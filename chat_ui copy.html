<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏ñ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-xl shadow-lg">
    <h1 class="text-3xl font-bold text-center text-blue-700 mb-4">‡∏ñ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢ AI</h1>

    <div class="mb-4">
      <textarea id="userInput" rows="4" class="w-full p-4 text-lg border rounded-xl" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"></textarea>
    </div>

    <button onclick="askAI()" class="w-full py-3 bg-blue-600 text-white text-xl rounded-xl hover:bg-blue-700">‡∏ñ‡∏≤‡∏°</button>

    <div id="responseBox" class="mt-6 p-4 bg-blue-100 rounded-xl text-lg leading-relaxed hidden"></div>
  </div>

  <script>
    async function askAI() {
      const userInput = document.getElementById("userInput").value;
      const responseBox = document.getElementById("responseBox");

      responseBox.classList.remove("hidden");
      responseBox.innerText = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...";

      try {
        const res = await fetch("http://127.0.0.1:8000/ask-ai", {
          method: "POST",
          headers: { "Content-Type": "application/json" ,
                      "api-key": "<api-key>"
                    },
          body: JSON.stringify({ content: userInput })
        });

        const data = await res.json();
        if (data.response) {
          responseBox.innerText = "üß† ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:\n\n" + data.response;
        } else if (data.error) {
          responseBox.innerText = "‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + data.error;
        } else {
          responseBox.innerText = "‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å AI ‡πÑ‡∏î‡πâ";
        }

      } catch (err) {
        responseBox.innerText = "‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API ‡πÑ‡∏î‡πâ: " + err;
      }
    }
  </script>
</body>
</html>
